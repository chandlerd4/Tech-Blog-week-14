{{!-- Extending the main layout --}}
{{#extend "main"}}

{{#content "title"}}Dashboard{{/content}}

<div class="dashboard">
    <h2>Your Dashboard</h2>

    {{!-- Section to list user's posts --}}
    <div class="posts">
        {{#if posts.length}}
            <h3>Your Blog Posts</h3>
            <ul>
                {{#each posts}}
                    <li>
                        <h4>{{this.title}}</h4>
                        <p>{{this.content}}</p>
                        <small>Created on {{formatDate this.createdAt}}</small>
                        <div class="actions">
                            <a href="/edit/{{this.id}}" class="btn">Edit</a>
                            <form action="/delete/{{this.id}}" method="POST" class="inline-form">
                                <button type="submit" class="btn btn-danger">Delete</button>
                            </form>
                        </div>
                    </li>
                {{/each}}
            </ul>
        {{else}}
            <p>You haven't created any posts yet.</p>
        {{/if}}
    </div>

    {{!-- Form to create a new post --}}
    <div class="new-post">
        <h3>Create a New Post</h3>
        <form action="/create" method="POST">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" name="title" id="title" required>
            </div>

            <div class="form-group">
                <label for="content">Content</label>
                <textarea name="content" id="content" rows="5" required></textarea>
            </div>

            <button type="submit" class="btn">Create Post</button>
        </form>
    </div>
</div>

{{/extend}}
